{% extends "_base.html" %}
{% block content %}
<div class="me-block">
  {% if not gmg_ok %}
  <p style="color: red">
    Вы не зашли на дискорд сервер, для получения полного функционала,
    пожалуйста, присоединитесь к
    <a href="https://discord.gg/sPR62FDQQz" target="_blank">серверу</a>
  </p>
  {% endif %}
  {% if user_id["status"] == 1 %}  
  
  <div class="profile">
    <div class="me-photo">
      <img src="https://minotar.net/avatar/Dalandis"></img>
      <p class="me-photo-wg">Заявка на рассмотрении</p>
      <p>Ваш ник - {{ user_id.username }}</p>
    </div>
    <div class="me-info-profile">
      <h3>Спасибо за заявку {{user_id.username}}</h3>
      <p>Ваш Discord {{user.name + "#" + user.discriminator}}</p>
      <p>Не забудьте прочитать <a>правила</a></p>
      <p>
        Ваша заявка рассматривается. По всем вопросам, пожалуйста,
        обращайтесь в
        <a href="https://discord.gg/sPR62FDQQz" target="_blank">дискорд</a>
      </p>
    </div>
  </div>


  {% elif user_id["status"] == 2 %}
  <div class="profile">
    <div class="me-photo">
      <img src="https://minotar.net/avatar/Dalandis"></img>
      <p class="me-photo-wg">Вы игрок сервера</p>
      <p>Ваш ник на сервере - {{ user_id.username }}</p>
      <div class="link-ip">      
          <input type="text" value="mine.gmgame.ru" id="myInput" readonly
          >
          <div class="tooltip">
            <button onclick="myFunction()" onmouseout="outFunc()">
              <span class="tooltiptext"
                id="myTooltip">Copy to clipboard</span><svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                viewBox="0 0 55.699 55.699"  xml:space="preserve" fill="black" width="30px" height="30px" >
             <g>
               <path  d="M51.51,18.001c-0.006-0.085-0.022-0.167-0.05-0.248c-0.012-0.034-0.02-0.067-0.035-0.1
                 c-0.049-0.106-0.109-0.206-0.194-0.291v-0.001l0,0c0,0-0.001-0.001-0.001-0.002L34.161,0.293c-0.086-0.087-0.188-0.148-0.295-0.197
                 c-0.027-0.013-0.057-0.02-0.086-0.03c-0.086-0.029-0.174-0.048-0.265-0.053C33.494,0.011,33.475,0,33.453,0H22.177
                 c-3.678,0-6.669,2.992-6.669,6.67v1.674h-4.663c-3.678,0-6.67,2.992-6.67,6.67V49.03c0,3.678,2.992,6.669,6.67,6.669h22.677
                 c3.677,0,6.669-2.991,6.669-6.669v-1.675h4.664c3.678,0,6.669-2.991,6.669-6.669V18.069C51.524,18.045,51.512,18.025,51.51,18.001z
                  M34.454,3.414l13.655,13.655h-8.985c-2.575,0-4.67-2.095-4.67-4.67V3.414z M38.191,49.029c0,2.574-2.095,4.669-4.669,4.669H10.845
                 c-2.575,0-4.67-2.095-4.67-4.669V15.014c0-2.575,2.095-4.67,4.67-4.67h5.663h4.614v10.399c0,3.678,2.991,6.669,6.668,6.669h10.4
                 v18.942L38.191,49.029L38.191,49.029z M36.777,25.412h-8.986c-2.574,0-4.668-2.094-4.668-4.669v-8.985L36.777,25.412z
                  M44.855,45.355h-4.664V26.412c0-0.023-0.012-0.044-0.014-0.067c-0.006-0.085-0.021-0.167-0.049-0.249
                 c-0.012-0.033-0.021-0.066-0.036-0.1c-0.048-0.105-0.109-0.205-0.194-0.29l0,0l0,0c0-0.001-0.001-0.002-0.001-0.002L22.829,8.637
                 c-0.087-0.086-0.188-0.147-0.295-0.196c-0.029-0.013-0.058-0.021-0.088-0.031c-0.086-0.03-0.172-0.048-0.263-0.053
                 c-0.021-0.002-0.04-0.013-0.062-0.013h-4.614V6.67c0-2.575,2.095-4.67,4.669-4.67h10.277v10.4c0,3.678,2.992,6.67,6.67,6.67h10.399
                 v21.616C49.524,43.26,47.429,45.355,44.855,45.355z"/>
             </g>             
             </svg></button>
          </div>
      </div>
    </div>
    <div class="me-info-profile">
      <h3>Приятной игры {{user_id.username}}</h3>
      <p>Ваш Discord {{user.name + "#" + user.discriminator}}</p>
      <p>Не забудьте прочитать <a>правила</a> или освежить их в памяти</p>
      <p>Сервер является абсолютно бесплатным. Он существует и развивается только за счет активных игроков, ламповой
        атмосферы
        и ваших <a href="/support/">пожертвований</a></p>
      <p>Спасибо за участие!</p>
      {% if opUser %}
      <a href='/other_markers/'>Все метки</a>
      <a href='/list_players/'>Заявки</a>
      {% endif %}
    </div>
  </div>

  <h4 class="header-metki">Мои метки</h4>
  <div id="add_marker_res"></div>
  <table class="metki">
    <thead>
      <tr>
        <th>Мир</th>
        <th>Расположение</th>
        <th>Имя</th>
        <th>X</th>
        <th>Y</th>
        <th>Z</th>
        <th>Описание</th>
        <th>Добавить</th>
        <th>Удалить</th>
      </tr>
    </thead>
    <tbody>
      {% for marker in markers %}
      <tr id="tr-{{ marker.id }}">
        <th data-label="Мир">
          <select name="server" id="server-{{ marker.id }}">
            <option value="gmgame" {% if marker.server=='gmgame' %} selected="selected" {% endif %}>Основной мир
            </option>
            <option value="farm" {% if marker.server=='farm' %} selected="selected" {% endif %}>Фермерский мир</option>
          </select>
        </th>
        <th data-label="Расположение">
          <select name="id_type" id="id_type-{{ marker.id }}">
            <option value="basePlayers" {% if marker.id_type=='basePlayers' %} selected="selected" {% endif %}>Базыи
              гроков - over</option>
            <option value="city" {% if marker.id_type=='city' %} selected="selected" {% endif %}>Города - over</option>
            <option value="shopping_centers" {% if marker.id_type=='shopping_centers' %} selected="selected" {% endif
              %}>Торговые центры - over</option>
            <option value="turquoise" {% if marker.id_type=='turquoise' %} selected="selected" {% endif %}>Бирюзовая -
              nether</option>
            <option value="orange" {% if marker.id_type=='orange' %} selected="selected" {% endif %}>Оранжевая - nether
            </option>
            <option value="lime" {% if marker.id_type=='lime' %} selected="selected" {% endif %}>Лаймовая - nether
            </option>
            <option value="pink" {% if marker.id_type=='pink' %} selected="selected" {% endif %}>Розовая - nether
            </option>
            <option value="farm" {% if marker.id_type=='farm' %} selected="selected" {% endif %}>Фермы - nether</option>
            <option value="end_portals" {% if marker.id_type=='end_portals' %} selected="selected" {% endif %}>Энд
              порталы - nether</option>
            <option value="pixel_arts" {% if marker.id_type=='pixel_arts' %} selected="selected" {% endif %}>Пиксель
              арты - end</option>
          </select>
        </th>
        <th data-label="Имя"><input type="text" placeholder="{{ marker.name }}" name="name" id="name-{{ marker.id }}"
            value="{{ marker.name }}"></th>
        <th data-label="X"><input type="text" placeholder="{{ marker.x }}" name="x" id="x-{{ marker.id }}"
            value="{{ marker.x }}"></th>
        <th data-label="Y"><input type="text" placeholder="{{ marker.y }}" name="y" id="y-{{ marker.id }}"
            value="{{ marker.y }}"></th>
        <th data-label="Z"><input type="text" placeholder="{{ marker.z }}" name="z" id="z-{{ marker.id }}"
            value="{{ marker.z }}"></th>
        <th data-label="Описание"><input type="text" placeholder="{{ marker.description }}" name="description"
            id="description-{{ marker.id }}" {% if marker.description %} value="{{ marker.description }}" {% endif %}>
        </th>
        <th data-label="Добавить"><button id="edit-{{ marker.id }}">Изменить</button></th>
        <th data-label="Удалить"><button id="del-{{ marker.id }}">Удалить</button></th>
      </tr>
      {% endfor %}
      <tr>
        <th data-label="Мир">
          <select name="add_server" id="add_server">
            <option value="gmgame">Основной мир</option>
            <option value="farm">Фермерский мир</option>
          </select>
        </th>
        <th data-label="Расположение">
          <select name="add_id_type" id="add_id_type">
            <option value="basePlayers">Базы игроков</option>
            <option value="city">Города</option>
            <option value="shopping_centers">Торговые центры - over</option>
            <option value="turquoise">Бирюзовая - nether</option>
            <option value="orange">Оранжевая - nether</option>
            <option value="lime">Лаймовая - nether</option>
            <option value="pink">Розовая - nether</option>
            <option value="farm">Фермы - nether</option>
            <option value="end_portals">Энд порталы - nether</option>
            <option value="pixel_arts">Пиксель арты - end</option>
          </select>
        </th>
        <th data-label="Имя"><input type="text" placeholder="text" name="add_name" id="add_name"></th>
        <th data-label="X"><input type="text" placeholder="0000" name="add_x" id="add_x"></th>
        <th data-label="Y"><input type="text" placeholder="0000" name="add_y" id="add_y"></th>
        <th data-label="Z"><input type="text" placeholder="0000" name="add_z" id="add_z"></th>
        <th data-label="Описание"><input type="text" placeholder="text-text" name="add_description"
            id="add_description"></th>
        <th data-label="Добавить"><button id="add">Добавить</button></th>
        <th data-label="Удалить" class="display-none"></th>
      </tr>
    </tbody>
  </table>

  <!-- <table class="add_metki">
    <tbody>
    <tr>
      <th data-label="Мир">
        <select name="add_server" id="add_server">
          <option value="gmgame">Основной мир</option>
          <option value="farm">Фермерский мир</option>
        </select>
      </th>
      <th data-label="Расположение">
        <select name="add_id_type" id="add_id_type">
          <option value="basePlayers">Базы игроков</option>
          <option value="city">Города</option>
          <option value="shopping_centers">Торговые центры - over</option>
          <option value="turquoise">Бирюзовая - nether</option>
          <option value="orange">Оранжевая - nether</option>
          <option value="lime">Лаймовая - nether</option>
          <option value="pink">Розовая - nether</option>
          <option value="farm">Фермы - nether</option>
          <option value="end_portals">Энд порталы - nether</option>
          <option value="pixel_arts">Пиксель арты - end</option>
        </select>
      </th>
      <th data-label="Имя"><input type="text" placeholder="text" name="add_name" id="add_name"></th>
      <th data-label="X"><input type="text" placeholder="0000" name="add_x" id="add_x"></th>
      <th data-label="Y"><input type="text" placeholder="0000" name="add_y" id="add_y"></th>
      <th data-label="Z"><input type="text" placeholder="0000" name="add_z" id="add_z"></th>
      <th data-label="Описание"><input type="text" placeholder="text-text" name="add_description" id="add_description"></th>
      <th data-label="Добавить"><button id="add">Добавить</button></th>
      <th data-label="Удалить"><button id="add">Добавить</button></th>
    </tr>
  </tbody>
</table>  -->

  {% elif user_id["status"] == 3 %}
  <p>
    К сожалению вашей заявке отказано. За подробновстями вы можете
    обратиться в
    <a href="https://discord.gg/sPR62FDQQz" target="_blank">дискорд</a>
  </p>
  <p>Статус - Отказано</p>
  {% elif user_id["status"] == 4 %}
  <p>Статус - Забанен</p>
  <p>
    К сожалению вы забанены на этом сервере. За подробновстями вы можете
    обратиться в
    <a href="https://discord.gg/sPR62FDQQz" target="_blank">дискорд</a>
  </p>

  
  {% else %}
  <div class="register-form">
    <h3>Заявка</h3>
    <div id="res"></div>
    <span class="input-name">Логин</span>
    <input id="login" type="input" name="login" placeholder="Игровой ник" />
    <span class="input-name">Пароль</span>
    <input id="password" type="input" name="password" placeholder="123456789" />
    <span class="input-name">Тип акаунта</span>
    <select name="tupe" id="type">
      <option value="1">Лицензия</option>
      <option value="0">Пиратка</option>
    </select>
    <span class="input-name">Возраст</span>
    <input id="age" type="input" name="age" placeholder=" " />
    <span class="input-name">Откуда узнали о проекте</span>
    <textarea name="from_about" id="from_about" cols="auto" rows="auto"></textarea>
    <span class="input-name">Интересы в майнкрафт</span>
    <textarea name="you_about" id="you_about" cols="auto" rows="auto"></textarea>
    <span class="input-name">Прошлые сервера</span>
    <textarea name="servers" id="servers" cols="auto" rows="auto"></textarea>
    <button id="register" class="register-btn-next">
      Отправить заявку
    </button>
  </div>
  {% endif %}
</div>
{% endblock %}
{% block js_scripts %}
{{ super() }}
<script src="/static/js/add_markers.js"></script>
<script>
  function myFunction() {
    var copyText = document.getElementById("myInput");
    copyText.select();
    document.execCommand("copy");

    var tooltip = document.getElementById("myTooltip");
    tooltip.innerHTML = "Copied: " + copyText.value;
  }

  function outFunc() {
    var tooltip = document.getElementById("myTooltip");
    tooltip.innerHTML = "Copy to clipboard";
  }
</script>
{% endblock %}